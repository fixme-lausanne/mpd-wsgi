<!doctype html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>FMM</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/stylesheet.css">
    <!-- endbuild -->
</head>
<body>

<header id="app-header" class="row show-for-medium-up">
    <div class="row">
        <div id="title" class="columns"><a href="/">{ <b id="logo">fmm:</b> 'fix my music' }</a></div>
    </div>
    <div id="header-line" class="row">
        <div id="header-line-1" class="columns small-1"></div>
        <div id="header-line-2" class="columns small-1"></div>
        <div id="header-line-3" class="columns small-10"></div>
    </div>
</header>

<main class="row medium-centered">
    <section id="player-section" class="columns small-12 large-7" >
        <a class="show-for-medium-down link-go-to" href="#tabs-section"><div class="content-go-to"><i class="fa fa-list-ul"></i></div></a>
        <div id="current-track" class="small-7 medium-10 large-12 large-centered">
            <p id="current-title" data-bind="text: current().title"></p>
            <p id="current-album" data-bind="text: current().album"></p>
            <p id="current-artist" data-bind="text: current().artist"></p>
        </div>

        <div id="album-cover" class="small-centered columns">
            <img src="images/default_album_xlarge.jpg"
                 alt="album picture" data-bind="attr: {src: covers().extralarge}">
        </div>


        <!-- Player -->
        <div id="player" class="row">
            <div id="player-actions" class="row">
                <!-- Player actions -->
                <button id="action-previous" class="action columns small-2" data-bind="click: playerActions.previous"><i class="fa fa-backward"></i></button>
                <button id="action-pause" class="action columns small-4" data-bind="click: playerActions.pause, visible: status().state == 'play'"><i class="fa fa-pause"></i></button>
                <button id="action-play" class="action columns small-4" data-bind="click: playerActions.play, visible: status().state == 'pause' || status().state == 'stop'"><i class="fa fa-play"></i></button>
                <button id="action-next" class="action columns small-2" data-bind="click: playerActions.next"><i class="fa fa-forward"></i></button>

                <!-- Download the current file -->
                <form data-bind="attr: {action: fileUrl}">
                    <button id="action-download" class="action columns small-2"><i class="fa fa-download"></i></button>
                </form>

                <!-- Refresh the mpd library -->
                <button id="action-update" class="action columns small-2" data-bind="click: playerActions.update"><i class="fa fa-repeat"></i></button>
            </div>
            <div id="loading-bar" class="row">
                <div id="current-load"></div>
            </div>
        </div>
    </section>

    <!-- Playlist and search tabs -->
    <section id="tabs-section" class="columns small-12 large-5">
        <a class="show-for-medium-only link-go-to" href="#app-header"><div class="content-go-to"><i class="fa fa-music"></i></div></a>
        <a class="show-for-small-only link-go-to" href="#player-section"><div class="content-go-to"><i class="fa fa-music"></i></div></a>
        <dl id="tabs-header" class="tabs row" data-tab>
            <dd id="playlist-tab" class="active columns small-6"><a href="#playlist-panel">Playlist</a></dd>
            <dd id="search-tab" class="columns small-6"><a href="#search-panel">Search</a></dd>
        </dl>
        <div class="tabs-content">
            <div class="content active result-panel" id="playlist-panel">

                <!-- Playlist actions -->
                <button data-bind="click: playlistActions.clear"><i class="fa fa-trash-o"></i></button>

                <!-- Playlist elements -->
                <!-- ko ifnot: playlist().error == undefined -->
                <div class="error-message" data-bind="text: playlist().error"></div>
                <!-- /ko -->

                <!-- ko if: playlist().error == undefined -->
                <ul>
                <!-- ko foreach: playlist -->
                    <li>
                        <span class="result-title" data-bind="text: title"></span>
                        <span class="result-artist" data-bind="text: artist"></span>
                        <span class="result-album" data-bind="text: album"></span>
                        <button class="action-track delete-track" data-bind="click: $parent.playlistActions.delete"><i class="fa fa-times"></i></button>
                    </li>
                <!-- /ko -->
                </ul>
                <!-- /ko -->

            </div>
            <div class="content result-panel" id="search-panel">
                <input type="text" placeholder="Type something" data-bind="value: searchText, valueUpdate: 'afterkeydown'"/>

                <!-- Filter -->
                <input checked="checked" name="filters" value="any" id="radio-any" type="radio" class="search-filter" data-bind="checked: searchFilter">
                <label for="radio-any" id="label-radio-any"><i class="fa fa-asterisk"></i></label>
                <input name="filters" value="title" id="radio-title" type="radio" class="search-filter" data-bind="checked: searchFilter">
                <label for="radio-title">Title</label>
                <input name="filters" value="album" id="radio-album" type="radio" class="search-filter" data-bind="checked: searchFilter">
                <label for="radio-album">Album</label>
                <input name="filters" value="artist" id="radio-artist" type="radio" class="search-filter" data-bind="checked: searchFilter">
                <label for="radio-artist">Artist</label>

                <!-- Results -->
                <!-- ko ifnot: searchResult().error == undefined -->
                <div class="error-message" data-bind="text: searchResult().error"></div>
                <!-- /ko -->

                <!-- ko if: searchResult().error == undefined -->
                <ul id="search-result">
                <!-- ko foreach: searchResult -->
                    <li data-bind="attr:{'data-dropdown': 'drop' + $index()}">
                        <span class="result-title" data-bind="text: title"></span>
                        <span class="result-artist" data-bind="text: artist"></span>
                        <span class="result-album" data-bind="text: album"></span>
                        <button class="action-track add-track" data-bind="click: $parent.playlistActions.add"><i class="fa fa-plus"></i></button>
                    </li>
                    <ul class="f-dropdown content" data-dropdown-content data-bind="attr:{'id': 'drop' + $index()}">
                        <li>Add to playlist</li>
                    </ul>
                <!-- /ko -->
                </ul>
                <!-- /ko -->

            </div>
        </div>
    </section>
</main>

<!-- build:js scripts/vendor.js -->
<!-- bower:js -->
<script src="bower_components/modernizr/modernizr.js"></script>
<script src="bower_components/jquery/jquery.js"></script>
<script src="bower_components/knockoutjs/build/output/knockout-latest.js"></script>
<script src="bower_components/foundation/js/foundation.js"></script>
<script src="bower_components/foundation/js/foundation/foundation.dropdown.js"></script>
<!-- endbower -->
<!-- endbuild -->

<!-- build:js(.tmp) scripts/main.js -->
<script src="scripts/main.js"></script>
<!-- endbuild -->

</body>
</html>
